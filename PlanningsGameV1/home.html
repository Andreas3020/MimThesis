<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="src/view/css/home.css">
  
  <title>Planning Game - Home</title>
</head>

<body>
  <div class="homeHeader">
    <button class="backButton" type="button" id="backButton" onClick="location.href='index.html'">Back to rooms</button>
    <h1>Home</h1>
  </div>

  <div class="homeBody">
    <div class="rulesSettings">
      <div class=container>
        <h2>Instructions</h2><br>
        <p>In this game you play as a planner of patients in an oncologydepartment. Every day, various patients will want to schedule an appointment for chemotherapy and/or with an oncologist. It is for you to decide where to put every patient in an agenda.</p>
        <ul>
          <li>The purpose of the game is to schedule all the patients. Scheduling a patient happens in 3 steps. 
            <p class="pictureText" onclick="playVideo('pictures/videoPlannen.mp4')">Click here for a video</p>
            <ol><br>
              <li>
                Look at patients information. The Onco and Chemo column indicates the number of appointments still to be scheduled and total number of appointments to schedule. Chemo length indicates how many slots each chemo session needs.
              </li><br>
              <li>
                Then you first schedule a Onco appointment (if any), followed by a chemo appointment (if any). However, the first appointment can only be scheduled two weeks into the future. In between the Onco and Chemo appointment have to be 2 hours. (2 slots in the Demo and 4 slots in the normal game). Then you go to the next week to schedule the next appointment.
              </li><br>
              <li>
                A patients appointment can be rescheduled as long as the last appointment is not yet scheduled, by clicking ‘Reset’. A patient can be skipped by clicking ‘Skip’.
              </li><br>
            </ol>
          </li>

          <li>
            Every few patients a new day starts. All patients who have an appointment that day have to take a bloodtest to see if they are fit enough. In case they fail the bloodtest, they will need a new appointment the week after their last appointment as shown <p class="pictureText" onclick="playVideo('pictures/videoBloedtest.mp4')">in this video</p>.
          </li><br>
          <li>
            You can now play the Demo to try it out, or start the game immediately by choosing a difficulty. You will be rated on 5 parameters shown in the table on the right hand side. By hovering over them, a text balloon will show more information.
          </li><br>
          <li>
            Attention! If some parts of the game overlap you can zoom out to avoid it. 
          </li>
        </ul>
        
        <p>You can find an extensive English version of the instruction <a href="pictures/English_instructions.pdf" target="_blank">here</a></p>
        <p>Een uitgebreide Nederlandstalige versie van de instructies vind u <a href="pictures/Nederlandstalige_instructies.pdf" target="_blank">hier</a></p><br>

        <div>
          <i style="font-size: 14pt; color: red;">Tip: You can use the arrowkeys to move between weeks and press enter to confirm!</i>
        </div>

        <a href="tuto.html"><button class="startButton" id="tutoButton">Demo</button></a>
      </div>
    
      <div class=container>
        <h2>Choose difficulty</h2>
        <form name="mySettings">
          <label><input type="radio" name="difficulty" id="easy" value="Easy" checked="checked">Easy</label>  
          <label><input type="radio" name="difficulty" id="moderate" value="Moderate">Moderate</label>
          <label><input type="radio" name="difficulty" id="hard" value="Hard">Hard</label> 
        </form>
        
      <div>
        <button class="startButton" onClick="startGame()">Start game</button>
      </div>
      </div>
    </div>

    <div class="results">
      <div class="resultsHeader">
        <h2>Average room scores</h2>
      </div>
      <table class="resultTable" id="avgTable">
        <thead>
          <tr>
            <th>Difficulty</th>
            <th class="hovertext">Skipped patients
              <span class="explanation">The number of skipped patients</span></th>  
            <th class="hovertext">Appointment standard deviation
              <span class="explanation">For chemo it is important to receive treatment on the same moments of the day. This variable holds the standard deviation of the number of slots in between two appointments.</span></th>
            <th class="hovertext">Avg appointment difference
              <span class="explanation">For chemo it is important to receive treatment on the same moments of the day. This variable holds the average difference of the number of slots in between two appointments.</span></th>
            <th class="hovertext">Avg first appointment time
              <span class="explanation">The average number of days between the moment the patient needed to be scheduled and its first appointment.</span></th>
            <th class="hovertext">Completion time
              <span class="explanation">The time it took to complete the game</span></th>
          </tr>
        </thead>
        <tbody>
          <!-- GENERATED BY JS -->
        </tbody>
      </table> 

      <div class="resultsHeader">
        <h2>Individual scores</h2>
      </div>
      <table class="resultTable" id="resultTable">
        <thead>
          <tr>
            <th>Difficulty</th>
            <th class="hovertext">Skipped patients
              <span class="explanation">The number of skipped patients</span></th>  
            <th class="hovertext">Appointment standard deviation
              <span class="explanation">For chemo it is important to receive treatment on the same moments of the day. This variable holds the standard deviation of the number of slots in between two appointments.</span></th>
            <th class="hovertext">Avg appointment difference
              <span class="explanation">For chemo it is important to receive treatment on the same moments of the day. This variable holds the average difference of the number of slots in between two appointments.</span></th>
            <th class="hovertext">Avg first appointment time
              <span class="explanation">The average number of days between the moment the patient needed to be scheduled and its first appointment.</span></th>
            <th class="hovertext">Completion time
              <span class="explanation">The time it took to complete the game</span></th>
          </tr>
        </thead>
        <tbody>
          <!-- GENERATED BY JS -->
        </tbody>
      </table> 
    </div>
  </div>

 

  <div id="instructionPopUp" class="popUp">
    <!-- popUp content -->
        <video id="video" width="60%" height="70%" controls>
          <source type="video/mp4">
          Your browser does not support HTML5 video.
        </video>
        <a class="close"  onclick="clearPopup()">x</a>  
      </div>
    </div>

       <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-analytics.js"></script>

    <script src="https://www.gstatic.com/firebasejs/8.2.7/firebase-database.js"></script>

    <script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
    apiKey: "AIzaSyCBql_gMctpYJiIgTSSTH0sAdqxiMvCIwc",
    authDomain: "schedulinggame.firebaseapp.com",
    databaseURL: "https://schedulinggame-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "schedulinggame",
    storageBucket: "schedulinggame.appspot.com",
    messagingSenderId: "975173738386",
    appId: "1:975173738386:web:f54402c96126a7b6d3ab4b",
    measurementId: "G-54R1SJLVPR"
  };


    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();   

    // Get a reference to the database service
    var database = firebase.database().ref(); 
    </script>
 
  <script src="src/view/js/home.js"></script>
</body>
</html>